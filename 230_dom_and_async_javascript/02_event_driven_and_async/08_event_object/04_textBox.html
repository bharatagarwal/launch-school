<script>
/*
  var MAX_CHARS = 140;
  
  document.addEventListener('DOMContentLoaded', function() {
    var textBox = document.querySelector('textarea');
    var count = document.querySelector('p');

    function updateCounter() {
      var inputLength = textBox.value.length;
      var remainingLength = MAX_CHARS - inputLength;
      var message = `${remainingLength} ${remainingLength === 1 ? 'character' : 'characters'} remaining.`;
      
      if (remainingLength < 0) {
        para.style.color = 'red';
      } else {
        para.style.color = 'black';
      }
    });

    textBox.addEventListener('keypress',

  });
*/

document.addEventListener('DOMContentLoaded', function() {
  var textarea = document.querySelector('textarea');
  var counter = document.querySelector('.counter');
  var button = document.querySelector('button');
  
  function updateCounter() {
    var length = textarea.value.length;
    var remaining = 140 - length;
    var message = remaining.toString() + ' characters remaining';
    var invalid = remaining < 0;
    
    if (invalid) {
      if (!textarea.classList.contains('invalid')) {
        textarea.classList.add('invalid');
      }
      button.disabled = true;
    } else {
      textarea.classList.remove('invalid');
      button.disabled = false;
    }

    counter.textContent = message;    
  }
  
  textarea.addEventListener('keyup', updateCounter);
  
  updateCounter();
});

</script>
<style>
 .composer {
  background: #f5f5f5;
  padding:  1em;
  width:  30em;
}

.composer textarea {
  width: 100%;
  height: 4em;
}

.composer textarea.invalid {
  color: red;
}
</style>

<div class="composer">
  <textarea placeholder="Enter your message"></textarea>
  <p class="counter"></p>
  <button type="submit">Post Message</button>
</div>